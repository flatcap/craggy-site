56 gn,rd,blu = 56 Green, 56 Red, 56 Blue
48 Yellow
74 all = 74 x, 74 y, 74 z in grade order

need lists of unique abbreviations of all colours

find delimiters "," anything else? CR, LF

look for keywords "clean", "success", "failed"

notes in "", or ''

after decoding, any ambiguities need to be left for the climber to add info
eg, 66 bl (Blue or Black)
too difficult to resolve, did they mean 65 Blue or 67 Black

after extra editing, hit search again to fill in details

verify button - errors tagged with red bg

need management console: add/del panel/setter/colour/...
colours need abbr list

climb list: climb id, date, notes
current flag? (indexed)
altering routes can invalidate the climbs
tickboxes for clean (enough), downclimb, no feet, etc

tickbox fuzzy grade +/- 2 options, panel +/- 2 nums
tickbox all matches
tickbox nice climb
tickbox search csv output
tickbox cumulative output (combine with tickbox set on results)
(sort and uniq the results)
tickbox search results only
search by _age_ days 3,4-8,-30,30-
search by date: start, end (and/or)

traverse stats (/m^2)
square meterage
bouldering meterage

add/remove colour/setter/?
actually remove? just mark inactive? (for historic routes)

--------------------------------------------------------------------------------

climb notes:
    Left arete allowed
    Right arete allowed
    Aretes allowed
    Hands allowed on features
    Feet allowed on features
    Hands and feet allowed on features
    Hands allowed on discs
    Feet allowed on discs
    Hands and feet allowed on features
    No chimney
    Chimney allowed
    Competition route

Work list:
    Abbr    Name       Pri Tots SQL1                SQL2
    T       Todo        H   27  success <> clean    grade < 6c
    D       Downclimb   M   20  downclimb = 0       grade < 6a
    6       6 Months    M   0   age > 6             grade < 6c
    4       4 Months    L   4   age > 4, age < 6    grade < 6c
    2       2 Months    VL  25  age > 2, age < 4    grade < 6c
    C       Coverage T  L   3   success = ""        grade < 7a
    C       Coverage C  L   5   success <> clean    grade < 7a
    C       Coverage D  L   12  downclimb = 0       grade < 6b

check edits of parse/get_id
coalesce google/import
colour parsing based on abbrev (explode abbrev, search)
tidy db cols, more name,id fewer reserved names
stats functions -> array, then print
generic parse function (x, table, match_field, out_field)
count db actions and time them

--------------------------------------------------------------------------------

check text output is all \r\n

process_date => 2009-12-15 -> 15 Dec 09
date_tidy
date_add_month
date_add_days

refactor seldom to a array of arrays

is everyone using the array form of db_select?

sort out titles and headings on all the html pages

add get_errors to all?
or just in php
or just in txt
_log_ but don't display errors, how?

--------------------------------------------------------------------------------

combine & sort by panel,grade,colour
merge duplicates - keep highest priority
tag the priorities like the 6a sheets - High = visible, Low = Faint
print

options --high only high priority
	--medium medium and high priority


two craggy database users:
	craggy_ro	= read only for general use
	craggy		= read/write for updates
	backup		= read only

remove privileges from craggy:
	drop table
	create table
	delete data rows?

-----------------------

two pane dialog for climb/route add

pane1 typing area
pane2 matches ajax as you type

crontab backup of russon.org/sql
use rdiff-backup

symlink conf.php from somewhere else?

remove onsight, generate it

nice -> star

to update routes
	correction	overwrite row
	deletion	set date clear
			set climbs as old
	new		add route

add/del route
add/del climb

addclimb
	abbr -> colour id
	panel -> route id, col id
	routes -> route ids
	decode success
	decode comments
	add to climbs

google import
colours lower case

add/del climbs/routes need to work from command line, too

start collecting climbs stats - crontab

custom craggy 404 /redirect

route/climb abbr decoder

date on rss feed
table for rssdata = create_rss.php

fewest_climbs.php
a list of the routes I've climbed the least
low score in work.php - id = 'F'

data for climbing rate
climbs/week/month/year
total ascent
mean grade

rd,blu,gn, description for all
rd desc, blu, gn  description for red only

recalculate scores/stats at 4am

add/remove
	colour
	setter
	grade
	panel
	etc

rss of new climbs + stats

how do we determine the "best" climb?
	highest success value?

list all climbs (best available)
	put a "+" if multiple climbs exist
	+ expands the table to show all climbs of that route

46 rd(d) clean "desc" - date
53 all(d) clean
23 rd,pk,wh(d) clean
panel number
colours comma/whitespace separated
colour suffix
	(d)	down
	(f)	fail
	(s)	success
	(c)	clean (default)
	(n)	nice
	ability to combine multiple letters?
	only need to combine success + nice
"text"	description
date

move schema into craggy git

make reldir in utils.php a bit smarter
can I calculate it from $_SERVER?

how do I mass delete?
	x=1 or x=2 or x=3
	x in [1,2,3]

calculate how many climbs will be deleted

keep an undo buffer

for new routes, queue the changes
	delete routes grid  [tick] remove from list button
	add routes grid - editable [tick] remove from list
	commit changes button -> update db; create rss!
	backup data first?

cascade delete on routes?

eliminate the views?
make them more useful?

make all db queries go through one function
then log everything
then time everything

use mod_rewrite to change:
	/rich/work.php
to one of:
	/user/1/work.php
	/user/work.php?id=1
	/work.php?id=1
or
	user/1/work.php calls /work.php?user=1
	user/rich/work.php calls /work.php?user=rich

check sort order on all pages

add debug logging option to db.php

add a left join clause to db_select()
array of
	table_name
	constraint1
	constraint2...

find out by what criteria I'm sorting the database tables and make sure they're indexed

test everything with javascript disabled
especially default sort order

knobble password on admin dir (on localhost)

validate all html/css/js

fix dark style (for tables)
or drop it completely

move rss to examples dir?

mysqldump -> schema.sql script
views how?

local bin dir

bash_history for craggy and work dir

add a validation box (below "Route Data")
validate html, css
only for rich user

link the styles table to a route search by that tag
ie  styles.php/arch links to routes.php?tags=arch

summary tag on tables

fix_justification - heuristic that looks for numbers

work out the sql to generate the stats/colour table directly

turn off analytics for home (on russon.org)

disable certain table sort columns
$output .= "	$('#{$id}').tablesorter( {sortList: {$sortlist}, headers: { 4: { sorter: false } } } ); ";

singularise filenames

create an ip-address checker
is this a rich or not?

change the css to avoid the 4 * &nbsp; in the table headers

flatten rich/* into main dir

