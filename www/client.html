<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
	<title>testAj</title>
	<script type="text/javascript">

	var reqXML;
	function LoadXMLDoc(url)
	{
		if (window.XMLHttpRequest) {
			reqXML = new XMLHttpRequest();
		} else if(window.ActiveXObject) {
			reqXML = new ActiveXObject("Microsoft.XMLHTTP");
		}

		document.getElementById("spanOut").innerHTML = "Sending Information...";
		reqXML.open("POST", url, true);
		reqXML.onreadystatechange = BuildXMLResults;
		reqXML.setRequestHeader("Content-Type", "text/xml");
		var strName = encodeURI(document.Form1.txtName.value);
		var strMess = encodeURI(document.Form1.txtMess.value);
		var xmlBody = "<entry>";
		xmlBody += "<name>" + strName + "<\/name>";
		xmlBody += "<message>" + strMess + "<\/message>";
		xmlBody += "<\/entry>";
		reqXML.send("<?xml version='1.0' encoding='UTF-8'?>" + xmlBody);
	 }
	 function BuildXMLResults()
	 {
		 if(reqXML.readyState == 4) {
			 if(reqXML.status == 200) {
				 var strText = reqXML.responseText;
				 document.getElementById("spanOut").innerHTML = strText;
			 } else {
				 alert("There was a problem retrieving the XML data:\n" + reqXML.statusText);
			 }
		 }
	 }
	</script>
</head>
<body>
	<form id="Form1" method="post" runat="server" onsubmit="LoadXMLDoc('GetXML.aspx'); return false;">
		Name: <input type="text" name="txtName"><br>
		Message: <textarea name="txtMess"> </textarea><br>
		<input type="submit" name="btnSubmit" value="Submit"><br>
		<span id="spanOut"></span>
	</form>
</body>
</html>
