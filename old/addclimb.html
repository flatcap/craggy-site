<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
	<head>
		<style type="text/css">
		body {
			background: black;
			color: white;
		}
		input {
			background: #ccc;
			color: black;
		}
		div.space {
			display: block;
			float: left;
			width: 4em;
			clear: both;
		}
		</style>

		<script type="text/javascript">
		function MyFormCommands(form)
		{
			if (window.XMLHttpRequest) {
				// code for IE7+, Firefox, Chrome, Opera, Safari
				xmlhttp=new XMLHttpRequest();
			} else {
				// code for IE6, IE5
				xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
			}
			xmlhttp.onreadystatechange=function()
			{
				if ((xmlhttp.readyState != 4) || (xmlhttp.status != 200))
					return;

				form.results.innerHTML += xmlhttp.responseText + "\n";
				form.txt1.value = "";
				form.txt1.focus();
			}
			xmlhttp.open("GET","getclimbs.php?r="+form.txt1.value,true);
			xmlhttp.send();
			return false;
		}
		function showHint(str)
		{
			if (str.length==0) {
				document.getElementById("txtHint").innerHTML="";
				return;
			}
			if (window.XMLHttpRequest) {
				// code for IE7+, Firefox, Chrome, Opera, Safari
				xmlhttp=new XMLHttpRequest();
			} else {
				// code for IE6, IE5
				xmlhttp=new ActiveXObject("Microsoft.XMLHTTP");
			}
			xmlhttp.onreadystatechange=function()
			{
				if ((xmlhttp.readyState != 4) || (xmlhttp.status != 200))
					return;
				document.getElementById("txtHint").innerHTML=xmlhttp.responseText;
			}
			xmlhttp.open("GET","getclimbs.php?q="+str,true);
			xmlhttp.send();
		}
		function showHint2(input)
		{
			var str = input.value;
			str = str.toUpperCase() + " ";
			input.value = str;
		}
		</script>
		<title>Ajax Test</title>
	</head>
	<body>
		<form action="" onsubmit="return MyFormCommands(this)">
			<!--
			<div class="space">Climb:</div><input type="text" size="40" id="txt1" onkeyup="showHint(this.value)"><br>
			-->
			<div class="space">Climb:</div><input type="text" size="40" id="txt1" onkeyup="showHint2(this)"><br>
			<div class="space">&nbsp;</div><textarea readonly rows=10 cols=40 id="results"></textarea>

		</form>
		<div id="txtHint"></div>
	</body>
	<script type='text/javascript'>
	document.getElementById('txt1').focus();
	</script>
</html>

<!--
	<select name="climber">
		<option value="1" selected="selected">Rich Russon</option>
		<option value="2">Charles Harradine</option>
		<option value="3">Ian Stock</option>
		<option value="4">Colin Woolford</option>
	</select>

	<form>
	<input type="text" id="date">
	<input type="text" id="addclimb">
	<div id="matches"></div>
	<div id="results"></div>
	<input type="submit" value="Commit">
	<input type="submit" value="Delete">
	</form>
-->
